{{- $comment := .Site.Params.daisy.comment -}}
{{- if $comment.enable -}}
  {{- if and .Site.IsServer $comment.disable_on_local -}}
    <p>Comments are setted to be disabled if the site is being served with local server.</p>
  {{- else -}}
    <script src="https://giscus.app/client.js"
            data-repo="{{ $comment.repo }}"
            data-repo-id="{{ $comment.repo_id }}"
            data-category="{{ $comment.category }}"
            data-category-id="{{ $comment.category_id }}"
            data-mapping="{{ $comment.mapping }}"
            data-reactions-enabled="{{ $comment.reactions_enabled }}"
            data-emit-metadata="{{ $comment.emit_metadata }}"
            data-theme="light"
            crossorigin="anonymous"
            async>
    </script>
  {{- end -}}
{{- end -}}
{{/* vim:set ft=gohtmltmpl: */}}
